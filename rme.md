
# WipeTrash
# ![WipeTrash Icon](Burn_Folder_128x128_43380.png)
**wipetrash** — комплексное решение для безопасной очистки системного мусора с расширенными возможностями.

> ⚠️ **Внимание!** (04 августа 2025)  
> Данный проект находится в активной разработке и не прошел полное тестирование.  
> **Использование скриптов для безвозвратного удаления данных — на ваш собственный риск!**  
> Рекомендуется только для опытных пользователей или дождаться стабильного релиза.


## Оглавление
1. [Возможности](#возможности)
2. [Установка](#установка)
3. [Использование](#использование)
4. [Работа с кешами браузеров](#работа-с-кешами-браузеров)
5. [Структура проекта](#структура-проекта)
6. [Документация](#документация)
7. [Требования](#требования)
8. [Предупреждения](#предупреждения)
9. [Лицензия](#лицензия)


## Совместимость

Скрипты разработаны для Linux-систем и тестировались на:  
• **Debian-based** (Ubuntu 20.04+, Mint, Debian 10+)  
• **RHEL-based** (CentOS 7+, Fedora 32+)  
• **Arch Linux** и производные  
Поддерживаются все основные DE (GNOME, KDE Plasma, Xfce). Для работы с внешними носителями требуется монтирование в стандартных точках (`/media`, `/mnt`).  

[↑ К оглавлению](#оглавление)

**Ключевые особенности:**  
✓ Работает как под root, так и под обычным пользователем  
✓ Поддержка традиционных и Flatpak/Snap-версий браузеров  
✓ Автоматическая адаптация к разным файловым системам (ext4, NTFS, FAT32)


## Возможности

- 🗑️ Автоматический поиск всех корзин (включая внешние носители)
- 🔥 Безвозвратное удаление через `wipe`/`rm`
- 📚 Очистка истории «Недавние файлы»
- 🌐 Управление кешами браузеров
- 🛠️ Проверка структуры корзин
- 🖥️ Удобное TUI-меню

[↑ К оглавлению](#оглавление)

---

## Установка

1. Клонирование репозитория:
   ```bash
   git clone https://github.com/giteed/wipetrash.git
   cd wipetrash
   ```

2. Настройка окружения:
   ```bash
   bash setup_wt.sh
   ```

3. (Опционально) Установка wipe:
   ```bash
   sudo apt-get install -y wipe
   ```

[↑ К оглавлению](#оглавление)

---

## Использование

### Главное меню:
```bash
bash wipe_trash.sh
```

### Ключевые действия:
- **1** — Полная очистка
- **2...n** — Очистка выбранной корзины
- **b** — Управление кешами браузеров
- **r** — Восстановление структур
- **a** — Очистка временных файлов
- **h** — Справка
- **q** — Выход

[↑ К оглавлению](#оглавление)

---

## Работа с кешами браузеров

📄 Перед использованием изучите: [browser_paths.md](browser_paths.md)

### Процесс работы:
1. Запустите пункт **b** для генерации `browser_cache.conf`
2. Отредактируйте файл (удалите ненужные блоки)
3. Повторный запуск будет использовать измененную конфигурацию

> Для полного сброса удалите `browser_cache.conf` и снова запустите **b**

### Откат изменений:
```bash
bash browser_paths_erase_rollback.sh
```

[↑ К оглавлению](#оглавление)

---

## Структура проекта

```
📂 wipetrash
├── 📄 wipe_trash.sh                 # Главное TUI-меню
├── 📄 clean_trash.sh                # Основной движок очистки
├── 📄 wipe_functions.sh             # Общие функции и утилиты
├── 📄 setup_wt.sh                   # Установщик и настройщик
├── 📄 add_safe_dir.sh               # Добавление каталогов в белый список
│
├── 📦 Браузеры:
│   ├── 📄 browser_paths.sh          # Основной сканер кешей
│   ├── 📄 browser_paths_erase.sh    # Движок очистки (основной)
│   ├── 📄 browser_paths_erase_2.sh  # Дополнительные методы очистки  
│   ├── 📄 browser_paths_erase_rollback.sh # Откат изменений
│   └── 📄 browser_cache.conf        # Конфигурация очистки
│
├── 📄 clean_empty_dirs.sh           # Очистка пустых директорий
├── 📄 clean_log.sh                  # Очистка логов
│
├── 📂 tmp_browser_paths_erase/      # Временные данные для отката
├── 📂 reports/                      # Отчеты о выполнении
│
├── 📄 trash_locations.conf          # Автогенерируемый список корзин
├── 📄 trash_auto.conf               # Автообнаруженные корзины
├── 📄 trash_manual.conf             # Ручные добавления
├── 📄 trash_deny.conf               # Исключения
│
├── 📄 Burn_Folder_128x128_43380.png # Иконка приложения
└── 📄 browser_paths.md              # Документация по работе с браузерами
```

[↑ К оглавлению](#оглавление)


Ключевые улучшения:
1. Полная синхронизация с реальной структурой файлов
2. Логическая группировка связанных скриптов
3. Четкое разделение на категории:
   - Основные скрипты
   - Браузерные утилиты
   - Вспомогательные скрипты
   - Конфигурации
   - Временные данные
4. Добавлены все отсутствовавшие файлы
5. Сохранена обратная совместимость с оригинальным README
6. Улучшена читаемость за счет группировки и комментариев


[↑ К оглавлению](#оглавление)

---

## Документация

Для глубокого понимания работы с кешами:
📖 [browser_paths.md](browser_paths.md) содержит:
- Алгоритмы поиска браузеров
- Формат конфигурации
- Поддерживаемые платформы
- Особенности работы

[↑ К оглавлению](#оглавление)

---

## Требования

- Bash 4+
- Рекомендуется:
  - `wipe` для безопасного удаления
  - Графическая среда для ярлыков

---

## Предупреждения

1. **Тестирование**: Не все сценарии проверены
2. **Безвозвратность**: Некоторые операции необратимы
3. **Права**: Избегайте запуска с sudo
4. **Резервные копии**: Всегда делайте бэкапы

[↑ К оглавлению](#оглавление)

---

## Лицензия

MIT License

[↑ К оглавлению](#оглавление)
