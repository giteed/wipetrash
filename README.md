# wipetrash

**wipetrash** — это набор bash-скриптов для безопасной и безвозвратной очистки корзин (Trash) и истории «Недавние файлы» в Ubuntu и подобных дистрибутивах Linux.

## Возможности

- Автоматический поиск всех корзин пользователя (в том числе на внешних устройствах и других разделах).
- Безвозвратное удаление содержимого корзин с помощью `wipe` (или `rm`, если wipe не установлен).
- Очистка истории «Недавние файлы» (`recently-used.xbel`).
- Проверка и восстановление структуры корзин.
- Удобное TUI-меню с выбором действия.
- Создание ярлыка (`.desktop`) для запуска из меню приложений.

## Установка

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/giteed/wipetrash.git
   cd wipetrash
   ```

2. Запустите автонастройку:
   ```bash
   bash setup_wt.sh
   ```
   Скрипт автоматически найдет все корзины и создаст конфиг, а также ярлык для меню приложений.

3. (Опционально) Установите wipe:
   ```bash
   sudo apt-get update && sudo apt-get install -y wipe
   ```
   Если `wipe` не установлен — будет использоваться обычное удаление через `rm`.

## Использование

### Быстрый запуск из терминала

```bash
bash wipe_trash.sh
```

### Возможные действия в меню

- **1** — Очистить все корзины и историю полностью.
- **2…n** — Очистить выбранную корзину.
- **Только history** — Очистить только историю «Недавние файлы».
- **r** — Проверить и починить структуру корзин.
- **h** — Справка.
- **q** — Выйти.

### Очистка без меню

Для быстрой полной очистки можно использовать движок напрямую:
```bash
bash clean_trash.sh
```

## Структура проекта

- `wipe_trash.sh` — основное меню для пользователя.
- `clean_trash.sh` — движок очистки.
- `setup_wt.sh` — авто-поиск корзин, генерация конфига и ярлыка.
- `trash_locations.conf` — автогенерируемый список корзин.
- `Burn_Folder_128x128_43380.png` — иконка для ярлыка.

## Требования

- bash 4+
- Для полного удаления рекомендуется пакет `wipe`.
- Для работы ярлыка: Linux Desktop Environment (например, GNOME, KDE).

## Советы

- Внешние и съемные носители должны быть подключены для обнаружения их корзин при запуске `setup_wt.sh`.
- Рекомендуется запускать очистку с правами обычного пользователя (НЕ через sudo!).

## Лицензия

MIT
